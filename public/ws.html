<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title> WS Client </title>
</head>

<body>
  Hola
  <div id="root"></div>
</body>

<script type="text/javascript">

  var socket = new WebSocket("ws://localhost:9292")

  socket.onopen = function () {
    socket.send("ping")
    
    var sub_req = { meta: { type: 'sub', label: 'collab', id: 125 } }
    socket.send(JSON.stringify(sub_req))
  }


  socket.onmessage = function (event) {
    console.log("onmessage:", event)
    document.getElementById("root").innerHTML = event.data
  }

</script>

</html>